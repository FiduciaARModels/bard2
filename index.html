<!DOCTYPE html>
<html>
<head>
  <title>AR Icons</title>
  <script src="https://modelviewer.dev/dist/model-viewer.min.js"></script>
</head>
<body>
  <model-viewer src="lv.glb" ar ar-view="ARView"></model-viewer>

  <script>
    class ARView extends UIView {

      // The AR scene.
      @property (nonatomic, strong) ARSCNView *sceneView;

      // The 3D model.
      @property (nonatomic, strong) SCNNode *modelNode;

      // The icons.
      @property (nonatomic, strong) NSArray<SCNNode *> *iconNodes;

      // Initialize the AR view.
      - (instancetype)init {
        self = [super init];
        if (self) {
          // Create the AR scene.
          self.sceneView = [[ARSCNView alloc] init];

          // Add the AR scene to the AR view.
          [self addSubview:self.sceneView];

          // Create the 3D model.
          self.modelNode = [[SCNNode alloc] init];

          // Add the 3D model to the AR scene.
          [self.sceneView.scene.rootNode addChildNode:self.modelNode];

          // Create the icons.
          self.iconNodes = [[NSArray alloc] init];
        }
        return self;
      }

      // Start the AR session.
      - (void)startARSession {
        // Create an AR configuration.
        ARConfiguration *configuration = [[ARConfiguration alloc] init];

        // Start the AR session with the configuration.
        [self.sceneView.session runWithConfiguration:configuration options:0];

        // Add the icons to the AR scene.
        for (SCNNode *iconNode in self.iconNodes) {
          [self.sceneView.scene.rootNode addChildNode:iconNode];
        }
      }

      // Stop the AR session.
      - (void)stopARSession {
        // Pause the AR session.
        [self.sceneView.session pause];

        // Remove the icons from the AR scene.
        for (SCNNode *iconNode in self.iconNodes) {
          [self.sceneView.scene.rootNode removeChildNode:iconNode];
        }
      }

    }
  </script>
</body>
</html>
